I need to fix some logic errors where if i check the king and then i select another piece and try to move it to block the king, the piece checking (eg. if i had originally done Bb5+, the bishop) would move to that square instead. I have got this to work before but i tried adding something which i had to undo. The logic error is probably around selectedPiece being changed unexpectedly, but the complex codeflow has made it tricky for me to figure out where. Apart from this, all other movement is correct.

I had tried adding debug statements, with no success. I had had some code to fix another error which i had to undo, so in the debug statements i had figured out that in the isInCheck function, false positives where arising. now however, i find that I couldnt really make sense of the debug anyway, hence the removal from the code.
